<div class="row">
	<div class="span10">
		<%= simple_form_for [@sport, @team, @gameschedule], html: { class: 'form-horizontal' } do |f| %>
			<%= render 'shared/error_messages', object: f.object %>
			<div class="row">
				<div class="span4">
					<h4>
						<% if @gameschedule.nil? %>
							<%= link_to "Search for Eazesportz Opponent?", findsport_sport_team_gameschedules_path %>
						<% else %>
							<%= link_to "Search for Eazesportz Opponent?", 
										findsport_sport_team_gameschedules_path(gameschedule_id: @gameschedule.id) %>
						<% end %>
					</h4>
				</div>
			</div>
			<% if @opposingsport.nil? %>
				<div class="row">
					<div class="span10">
						<h4>You can also enter opposing team information below if you could not find them in Eazesportz</h4>
					</div>
				</div>
				<div class="row">
					<div class="span2">
						<%= f.input	:opponent, label: "Opponent Name" %>
					</div>
					<div class="span2 offset1">
						<%= f.input	:opponent_mascot, label: "Opponent Mascot" %>
					</div>
				</div>
				<div class="row">
					<div class="span4">
						We encourage you to upload an image for your opponent if you have one. Looks good on the mobile app.<p>
						<% if !@gameschedule.opponentpic.blank? %>
							<h5>Current opponent image</h5>
							<%= image_tag @gameschedule.opponentpic.url(:thumb) %>
			          	<% else %>
			          		<h5>We will use our standard image for the opponent if you don't upload one.</h5>
			            	<%= image_tag "teambutton.jpg" %>
						<%end %>
						<%= f.input	:opponentpic,	label: "Opponent image:", hint: "Change image" %>
					</div>
				</div>
			<% else %>
				<%= f.input :opponent_sport_id, as: :hidden, input_html: { value: @opposingsport.id.to_s } %>
				<%= f.input :opponent_team_id, as: :hidden, input_html: { value: @opposingteam.id.to_s } %>
				<h3>Selected Eazesportz Opposing Team</h3>
				<div class="row">
					<div class="span2">
						<%= f.input	:opponent, input_html: { value: @opposingteam.title } %>
					</div>
					<div class="span2 offset1">
						<% if @opposingteam.mascot.nil? %>
							<%= f.input :opponent_mascot, label: "Opponent Mascot", input_html: { value: @opposingsport.mascot } %>
						<% else %>
							<%= f.input	:opponent_mascot, label: "Opponent Mascot", input_html: { value: @opposingteam.mascot } %>
						<% end %>
					</div>
				</div>
				<div class="row">
					<div class="span4">
						<% if @opposingteam.team_logo? %>
							<%= image_tag @opposingteam.team_logo.url(:thumb) %>
						<% elsif @opposingsport.sport_logo? %>
							<%= image_tag @opposingsport.sport_logo.url(:thumb) %>
			          	<% else %>
			          		<h5>Opposing team has no logo uploaded.</h5>
			            	<%= image_tag "teambutton.jpg" %>
						<%end %>
					</div>
				</div>
			<% end %>
			<div class="row">
				<div class="span2">
					<%= f.input :startdate, label: "Start Date", as: :string, input_html: { class: 'datepicker', 
											:value => @gameschedule.try(:gamedate).try(:strftime,'%m/%d/%Y') } %>
					<%= f.input :gamedate, :as => :hidden, :input_html => { :id => 'recorded-at-alt'} %>
					<!--%= f.input :gamedate,  as: :date, start_year: Date.today.year, start_month: Date.today, 
					 			ignore_time: true %-->
				</div>
				<div class="span1 offset1">
					<%= f.input :league, as: :radio_buttons, label: "League Game?" %>
				</div>
				<div class="span2 offset1">
					<%= f.input	:starttime, label: "Game Start Time:", as: :time, ignore_date:  true, input_html: { style: "width: 50px" } %>
				</div>
				<div class="span2 offset1">
					<%= f.input :homeaway, label: "Home Game?" , collection: [ "Home", "Away" ] %>
				</div>
			</div>
			<div class="row">
				<div class="span10">
					<h3>Game Location</h3>
				</div>
			</div>
			<div class="row">
				<div class="span3">
					<%= f.input :location %>
				</div>
				<div class="span5">
					<%= f.input	:event, hint:	"Senior day, Homecoming, etc.", required: false %>	
				</div>
			</div>
			<p>
			<% if !@gameschedule.opponent.nil? %>
				<div class="row">
					<div class="span10">
						<h4>Real Time Game Summary:</h4>
					</div>
				</div>
				<p>
				<div class="row">
					<div class="span2">
						<%= f.input :livegametime, label: "Live Game Time:", as: :time, ignore_date: true, input_html: { style: "width: 50px" } %>
						<!--%= f.input :current_game_time, label: "Game Time", input_html: { style: "width: 50px" } %-->
					</div>
					<div class="span1 offset1">
						<%= f.input :possession, collection: ["Home", "Opponent"], input_html: { style: "width: 80px" }  %>
					</div>
					<% if @sport.sportname == "Football" %>
						<div class="span1 offset1">
							<%= f.input :ballon, label: "Ball On:", input_html: { style: "width: 50px" } %>
						</div>
						<div class="span2 offset1">
							<%= f.input :our, label: "Ball Position", collection: [ @team.team_name, @gameschedule.opponent ] %>
						</div>
					<% elsif @sport.sportname == "Basketball" %>
						<div class="span1 offset1">
							<%= f.input :currentperiod, label: "Period", collection: 1..4, input_html: { style: "width: 50px" } %>
						</div>
						<div class="span2 offset1">
							<%= f.input :bballpossessionarrow, label: "Possession Arrow:", collection: [ @team.team_name, @gameschedule.opponent ] %>
						</div>
					<% end %>
				</div>
				<div class="row">
					<div class="span6">
						<%= f.input :lastplay, label: "Last Play:", input_html: { style: "width: 460px" } %>
					</div>
					<% if @sport.sportname == "Football" %>
						<div class="span1 offset1">
							<%= f.input :down, collection: 1..4, input_html: { style: "width: 50px" } %>
						</div>
						<div class="span1 offset1">
							<%= f.input :togo, label: "To Go", input_html: { style: "width: 50px" } %>
						</div>
					<% end %>
				</div>
				<% if @sport.sportname == "Football" %>
					<div class="row">
						<div class="span2">
							<%= f.input :penalty, label: "Number of Penalties:", input_html: { style: "width: 50px" } %>
						</div>
						<div class="span2">
							<%= f.input :penaltyyards, label: "Penalty Yards:", input_html: { style: "width: 50px" } %>
						</div>
					</div>
				<% elsif @sport.sportname == "Basketball" %>
					<div class="row">
						<div class="span2">
							<%= f.input :hometimeouts, label: "Home Time Outs", input_html: { style: "width: 50px" } %>
						</div>
						<div class="span2 offset1">
							<%= f.input :opponenttimeouts, label: "Vistor Time Outs", input_html: { style: "width: 50px" } %>
						</div>
					</div>
				<% end %>
				<div class="row">
					<div class="span2">
						<%= f.input :final, as: :boolean, label: "Mark game as final" %>
					</div>
				</div>
				<p>
				<h5>Enter Game Score:</h5>
				<p>
					Game score data for home team below is automatically generated via the entry of stats for athletes. Changing the data below can result in statistical data being out of sync with the athlete stats. Use with caution!
				<p>
				<% if @sport.sportname == "Football" %>
					<%= render "quarters_form", f: f %>
					<p>
					<!--div class="row">
						<div class="span2">
							<%= f.input :firstdowns, label: "First Downs:", input_html: { style: "width: 50px" } %>
						</div>
					</div-->
				<% elsif @sport.sportname == "Basketball" %>
					<div class="row">
						<div class="span1">
							<h4>Home</h4>
						</div>
					</div>
					<div class="row">
						<div class="span3">
							<font color="red">Home score is computed from stats:</font> <h4><%= @gameschedule.homescore %></h4>
							<!--%= f.input :homescore, label: "Home Score", input_html: { style: "width: 50px" } %-->
						</div>
						<div class="span3">
							<!--%= f.input :homefouls, label: "Fouls", input_html: { style: "width: 50px" } %-->
							<font color="red">Home fouls are computed from stats:</font> <h4><%= @gameschedule.homefouls %></h4>
						</div>
						<div class="span2">
							<%= f.input :homebonus, as: :radio_buttons, label: "Bonus" %>
						</div>
					</div>
					<div class="row">
						<div class="span1">
							<h4>Visitor</h4>
						</div>
					</div>
					Opponent data is not comupted automatically since only your team roster is available for this information. You can update the opponents score
					below as needed so your fans can keep track of the action.
					<p>
					<div class="row">
						<div class="span3">
							<%= f.input :opponentscore, label: "Opponenet Score", input_html: { style: "width: 50px" } %>
						</div>
						<div class="span3">
							<%= f.input :opponentfouls, label: "Fouls", input_html: { style: "width: 50px" } %>
						</div>
						<div class="span2">
							<%= f.input :visitorbonus, as: :radio_buttons, label: "Bonus" %>
						</div>
					</div>
				<% end %>
			<% end %>
			<p>
			<div class="span1 offset3">
				<%= f.button :submit, "Submit", class: "btn btn-medium btn-primary" %>
			</div>
		<% end %>	
	</div>	
</div>
